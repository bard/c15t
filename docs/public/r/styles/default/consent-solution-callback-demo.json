{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "consent-solution-callback-demo",
  "type": "registry:example",
  "author": "Koroflow (https://koroflow.com/components",
  "dependencies": [
    "@koroflow/core-react"
  ],
  "registryDependencies": [
    "consent-solution"
  ],
  "files": [
    {
      "path": "examples/consent-solution-callback-demo.tsx",
      "content": "\"use client\";\n\nimport CookieBanner from \"@/registry/default/components/consent/cookie-banner\";\nimport {\n\tConsentManagerProvider,\n\tuseConsentManager,\n} from \"@koroflow/core-react\";\nimport { Cookie, Lock, RefreshCw } from \"lucide-react\";\nimport { useCallback, useEffect } from \"react\";\nimport { Button } from \"../components/button\";\nimport ConsentCustomizationModal from \"../components/consent/consent-customization-modal\";\n\nexport default function PrivacyPopupMinimalDemo() {\n\treturn (\n\t\t<ConsentManagerProvider\n\t\t\tinitialGdprTypes={[\n\t\t\t\t\"necessary\",\n\t\t\t\t\"marketing\",\n\t\t\t\t\"functionality\",\n\t\t\t\t\"measurement\",\n\t\t\t]}\n\t\t\t// This namespace is used specifically for demonstration purposes,\n\t\t\t// allowing multiple instances of the consent manager to coexist on the same page.\n\t\t\t// It helps in isolating consent states for different demos or components.\n\t\t\tnamespace=\"CallbackDemo\"\n\t\t>\n\t\t\t<DemoWidget />\n\t\t\t<CookieBanner />\n\t\t</ConsentManagerProvider>\n\t);\n}\n\nexport function DemoWidget() {\n\tconst { clearAllData, setShowPopup, setCallback } = useConsentManager();\n\n\tconst handleResetConsent = useCallback(() => {\n\t\tclearAllData();\n\t}, [clearAllData]);\n\n\tconst handleOpenCookiePopup = useCallback(() => {\n\t\tsetShowPopup(true);\n\t}, [setShowPopup]);\n\n\tuseEffect(() => {\n\t\tsetCallback(\"onBannerShown\", () => {\n\t\t\tconsole.log(\"Banner displayed\");\n\t\t});\n\n\t\tsetCallback(\"onConsentGiven\", () => {\n\t\t\tconsole.log(\"User gave consent\");\n\t\t});\n\n\t\tsetCallback(\"onConsentRejected\", () => {\n\t\t\tconsole.log(\"User rejected consent\");\n\t\t});\n\n\t\tsetCallback(\"onBannerClosed\", () => {\n\t\t\tconsole.log(\"Banner closed\");\n\t\t});\n\t}, [setCallback]);\n\treturn (\n\t\t<div className=\"flex flex-col gap-4\">\n\t\t\t<Button onClick={handleOpenCookiePopup}>\n\t\t\t\t<Cookie className=\"h-4 w-4 mr-2\" />\n\t\t\t\tOpen Cookie Banner\n\t\t\t</Button>\n\t\t\t<ConsentCustomizationModal>\n\t\t\t\t<Button>\n\t\t\t\t\t<Lock className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\tOpen Consent Customization{\" \"}\n\t\t\t\t</Button>\n\t\t\t</ConsentCustomizationModal>\n\t\t\t<Button onClick={handleResetConsent}>\n\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2\" />\n\t\t\t\tReset Local Storage Consent\n\t\t\t</Button>\n\t\t</div>\n\t);\n}\n",
      "type": "registry:example",
      "target": ""
    }
  ]
}